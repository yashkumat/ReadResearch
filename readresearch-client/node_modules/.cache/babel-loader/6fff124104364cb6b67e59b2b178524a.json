{"ast":null,"code":"import _defineProperty from\"/Users/yashkumat/Desktop/ReadResearch/readresearch-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/yashkumat/Desktop/ReadResearch/readresearch-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yashkumat/Desktop/ReadResearch/readresearch-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/yashkumat/Desktop/ReadResearch/readresearch-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/yashkumat/Desktop/ReadResearch/readresearch-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import withStyles from\"@material-ui/core/styles/withStyles\";import{Link}from\"react-router-dom\";import Grid from\"@material-ui/core/Grid\";import Logo from\"../images/logo.png\";import Typography from\"@material-ui/core/Typography\";import TextField from\"@material-ui/core/TextField\";import Button from\"@material-ui/core/Button\";import CircularProgress from'@material-ui/core/CircularProgress';import{connect}from'react-redux';import{loginUser}from\"../redux/actions/userActions\";var styles={form:{textAlign:\"center\"},image:{width:\"10%\",height:\"10%\"},button:{margin:\"10px\"},textField:{margin:\"10px auto 10px auto\",color:\"#FFEB3B\"},customError:{margin:\"10px auto 10px auto\",color:\"#c23616\"}};var login=/*#__PURE__*/function(_Component){_inherits(login,_Component);var _super=_createSuper(login);function login(){var _this;_classCallCheck(this,login);_this=_super.call(this);_this.handleSubmit=function(event){event.preventDefault();var userData={email:_this.state.email,password:_this.state.password};_this.props.loginUser(userData,_this.props.history);};_this.handleChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.state={email:\"\",password:\"\",errors:{}};return _this;}_createClass(login,[{key:\"UNSAFE_componentWillReceiveProps\",value:function UNSAFE_componentWillReceiveProps(nextProps){if(nextProps.UI.errors){this.setState({errors:nextProps.UI.errors});}}},{key:\"render\",value:function render(){var _this$props=this.props,classes=_this$props.classes,loading=_this$props.UI.loading;var errors=this.state.errors;return/*#__PURE__*/React.createElement(Grid,{container:true,direction:\"column\",justify:\"center\",alignItems:\"center\"},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,container:true,direction:\"column\",justify:\"center\",alignItems:\"center\"},/*#__PURE__*/React.createElement(\"img\",{src:Logo,alt:\"Read Research\",className:classes.image}),/*#__PURE__*/React.createElement(Typography,{variant:\"h3\",className:classes.title,color:\"primary\"},\"Login\")),/*#__PURE__*/React.createElement(\"form\",{noValidate:true,onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(TextField,{id:\"email\",name:\"email\",type:\"email\",value:this.state.email,label:\"Email\",helperText:errors.email,error:errors.email?true:false,className:classes.textField,onChange:this.handleChange,fullWidth:true}),/*#__PURE__*/React.createElement(TextField,{id:\"password\",name:\"password\",type:\"password\",value:this.state.password,label:\"Password\",className:classes.textField,onChange:this.handleChange,helperText:errors.password,error:errors.password?true:false,fullWidth:true}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,container:true,direction:\"row\",justify:\"center\"},errors.general&&/*#__PURE__*/React.createElement(Typography,{variant:\"caption\",className:classes.customError},errors.general)),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,container:true,direction:\"row\",justify:\"center\"},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",type:\"submit\",color:\"secondary\",className:classes.button,justify:\"center\"},loading?/*#__PURE__*/React.createElement(CircularProgress,{size:23,className:classes.progress}):\"Login\")),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,container:true,direction:\"row\",justify:\"center\"},/*#__PURE__*/React.createElement(Typography,{variant:\"caption\",className:classes.signup,color:\"primary\",component:Link,to:\"/signup\"},\"Don't have account? Signup here\"))));}}]);return login;}(Component);var mapStateToProps=function mapStateToProps(state){return{user:state.user,UI:state.UI};};var mapActionsToProps={loginUser:loginUser};export default connect(mapStateToProps,mapActionsToProps)(withStyles(styles)(login));","map":{"version":3,"sources":["/Users/yashkumat/Desktop/ReadResearch/readresearch-client/src/pages/login.js"],"names":["React","Component","withStyles","Link","Grid","Logo","Typography","TextField","Button","CircularProgress","connect","loginUser","styles","form","textAlign","image","width","height","button","margin","textField","color","customError","login","handleSubmit","event","preventDefault","userData","email","state","password","props","history","handleChange","setState","target","name","value","errors","nextProps","UI","classes","loading","title","general","progress","signup","mapStateToProps","user","mapActionsToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport { Link } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Logo from \"../images/logo.png\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport {connect} from 'react-redux';\nimport { loginUser } from \"../redux/actions/userActions\";\n\nconst styles = {\n  form: {\n    textAlign: \"center\",\n  },\n  image: {\n    width: \"10%\",\n    height: \"10%\",\n  },\n  button: {\n    margin: \"10px\",\n  },\n  textField: {\n    margin: \"10px auto 10px auto\",\n    color:\"#FFEB3B\"\n  },\n  customError: {\n    margin: \"10px auto 10px auto\",\n    color: \"#c23616\",\n  }\n};\n\nclass login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      email: \"\",\n      password: \"\",\n      errors: {},\n    };\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.UI.errors) {\n      this.setState({ errors: nextProps.UI.errors });\n    }\n  }\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const userData = {\n      email: this.state.email,\n      password: this.state.password,\n    };\n    this.props.loginUser(userData, this.props.history);\n  };\n  handleChange = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    });\n  };\n  render() {\n    const {\n      classes,\n      UI: { loading },\n    } = this.props;\n    const { errors } = this.state;\n    return (\n      <Grid container direction=\"column\" justify=\"center\" alignItems=\"center\">\n        <Grid\n          item\n          xs={12}\n          container\n          direction=\"column\"\n          justify=\"center\"\n          alignItems=\"center\"\n        >\n          <img src={Logo} alt=\"Read Research\" className={classes.image} />\n          <Typography variant=\"h3\" className={classes.title} color=\"primary\">\n            Login\n          </Typography>\n        </Grid>\n\n        <form noValidate onSubmit={this.handleSubmit}>\n          <TextField\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            value={this.state.email}\n            label=\"Email\"\n            helperText={errors.email}\n            error={errors.email ? true : false}\n            className={classes.textField}\n            onChange={this.handleChange}\n            fullWidth\n          />\n\n          <TextField\n            id=\"password\"\n            name=\"password\"\n            type=\"password\"\n            value={this.state.password}\n            label=\"Password\"\n            className={classes.textField}\n            onChange={this.handleChange}\n            helperText={errors.password}\n            error={errors.password ? true : false}\n            fullWidth\n          />\n\n          <Grid item xs={12} container direction=\"row\" justify=\"center\">\n            {errors.general && (\n              <Typography variant=\"caption\" className={classes.customError}>\n                {errors.general}\n              </Typography>\n            )}\n          </Grid>\n\n          <Grid item xs={12} container direction=\"row\" justify=\"center\">\n            <Button\n              variant=\"contained\"\n              type=\"submit\"\n              color=\"secondary\"\n              className={classes.button}\n              justify=\"center\"\n            >\n              {loading ? (\n                <CircularProgress size={23} className={classes.progress} />\n              ) : (\n                \"Login\"\n              )}\n            </Button>\n          </Grid>\n          <Grid item xs={12} container direction=\"row\" justify=\"center\">\n            <Typography\n              variant=\"caption\"\n              className={classes.signup}\n              color=\"primary\"\n              component={Link}\n              to=\"/signup\"\n            >\n              Don't have account? Signup here\n            </Typography>\n          </Grid>\n        </form>\n      </Grid>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  user:state.user,\n  UI:state.UI\n})\n\nconst mapActionsToProps = {\n  loginUser\n}\n\nexport default connect(mapStateToProps, mapActionsToProps)(withStyles(styles)(login));\n"]},"metadata":{},"sourceType":"module"}
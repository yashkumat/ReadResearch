{"ast":null,"code":"import{SET_POSTS,LOADING_DATA,LIKE_POST,UNLIKE_POST,DELETE_POST,SET_ERRORS,POST_POST,CLEAR_ERRORS,LOADING_UI,SET_POST,STOP_LOADING_UI,SUBMIT_COMMENT}from'../types';import axios from'axios';export var getPosts=function getPosts(){return function(dispatch){dispatch({type:LOADING_DATA});axios.get('/posts').then(function(res){dispatch({type:SET_POSTS,payload:res.data});}).catch(function(err){dispatch({type:SET_ERRORS,payload:err.response.data});});};};export var getPost=function getPost(postId){return function(dispatch){dispatch({type:LOADING_UI});axios.get(\"/post/\".concat(postId)).then(function(res){dispatch({type:SET_POST,payload:res.data});dispatch({type:STOP_LOADING_UI});}).catch(function(err){return console.log(err);});};};export var postPost=function postPost(newPost){return function(dispatch){dispatch({type:LOADING_UI});axios.post('/post',newPost).then(function(res){dispatch({type:POST_POST,payload:res.data});dispatch(clearErrors());}).catch(function(err){dispatch({type:SET_ERRORS,payload:err.response.data});});};};// Like a scream\nexport var likePost=function likePost(postId){return function(dispatch){axios.get(\"/post/\".concat(postId,\"/like\")).then(function(res){dispatch({type:LIKE_POST,payload:res.data});}).catch(function(err){return console.log(err);});};};// Unlike a scream\nexport var unlikePost=function unlikePost(postId){return function(dispatch){axios.get(\"/post/\".concat(postId,\"/unlike\")).then(function(res){dispatch({type:UNLIKE_POST,payload:res.data});}).catch(function(err){return console.log(err);});};};// Submit a comment\nexport var submitComment=function submitComment(postId,commentBody){return function(dispatch){axios.post(\"/post/\".concat(postId,\"/comment\"),commentBody).then(function(res){dispatch({type:SUBMIT_COMMENT,payload:res.data});dispatch(clearErrors());}).catch(function(err){dispatch({type:SET_ERRORS,payload:err.response.data});});};};export var deletePost=function deletePost(postId){return function(dispatch){axios.delete(\"/post/\".concat(postId)).then(function(){dispatch({type:DELETE_POST,payload:postId});}).catch(function(err){return console.log(err);});};};export var getUserData=function getUserData(username){return function(dispatch){dispatch({type:LOADING_DATA});axios.get(\"/user/\".concat(username)).then(function(res){dispatch({type:SET_POSTS,payload:res.data.posts});}).catch(function(){dispatch({type:SET_POSTS,payload:null});});};};export var getUser=function getUser(username){return function(dispatch){dispatch({type:LOADING_DATA});axios.get(\"/user/\".concat(username)).then(function(res){dispatch({payload:res.data});}).catch(function(err){return console.log(err);});};};export var clearErrors=function clearErrors(){return function(dispatch){dispatch({type:CLEAR_ERRORS});};};","map":{"version":3,"sources":["/Users/yashkumat/Desktop/ReadResearch/readresearch-client/src/redux/actions/dataActions.js"],"names":["SET_POSTS","LOADING_DATA","LIKE_POST","UNLIKE_POST","DELETE_POST","SET_ERRORS","POST_POST","CLEAR_ERRORS","LOADING_UI","SET_POST","STOP_LOADING_UI","SUBMIT_COMMENT","axios","getPosts","dispatch","type","get","then","res","payload","data","catch","err","response","getPost","postId","console","log","postPost","newPost","post","clearErrors","likePost","unlikePost","submitComment","commentBody","deletePost","delete","getUserData","username","posts","getUser"],"mappings":"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","sourcesContent":["import {\n    SET_POSTS,\n    LOADING_DATA,\n    LIKE_POST,\n    UNLIKE_POST,\n    DELETE_POST,\n    SET_ERRORS,\n    POST_POST,\n    CLEAR_ERRORS,\n    LOADING_UI,\n    SET_POST,\n    STOP_LOADING_UI,\n    SUBMIT_COMMENT\n} from '../types';\nimport axios from 'axios';\n\nexport const getPosts = () => (dispatch) => {\n    dispatch({ type: LOADING_DATA });\n    axios\n        .get('/posts')\n        .then((res) => {\n            dispatch({\n                type: SET_POSTS,\n                payload: res.data\n            });\n        })\n        .catch((err) => {\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            });\n        });\n};\nexport const getPost = (postId) => (dispatch) => {\n    dispatch({ type: LOADING_UI });\n    axios\n        .get(`/post/${postId}`)\n        .then((res) => {\n            dispatch({\n                type: SET_POST,\n                payload: res.data\n            });\n            dispatch({ type: STOP_LOADING_UI });\n        })\n        .catch((err) => console.log(err));\n};\n\nexport const postPost = (newPost) => (dispatch) => {\n    dispatch({ type: LOADING_UI });\n    axios\n        .post('/post', newPost)\n        .then((res) => {\n            dispatch({\n                type: POST_POST,\n                payload: res.data\n            });\n            dispatch(clearErrors());\n        })\n        .catch((err) => {\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            });\n        });\n};\n// Like a scream\nexport const likePost = (postId) => (dispatch) => {\n    axios\n        .get(`/post/${postId}/like`)\n        .then((res) => {\n            dispatch({\n                type: LIKE_POST,\n                payload: res.data\n            });\n        })\n        .catch((err) => console.log(err));\n};\n// Unlike a scream\nexport const unlikePost = (postId) => (dispatch) => {\n    axios\n        .get(`/post/${postId}/unlike`)\n        .then((res) => {\n            dispatch({\n                type: UNLIKE_POST,\n                payload: res.data\n            });\n        })\n        .catch((err) => console.log(err));\n};\n// Submit a comment\nexport const submitComment = (postId, commentBody) => (dispatch) => {\n    axios\n        .post(`/post/${postId}/comment`, commentBody)\n        .then((res) => {\n            dispatch({\n                type: SUBMIT_COMMENT,\n                payload: res.data\n            });\n            dispatch(clearErrors());\n        })\n        .catch((err) => {\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            });\n        });\n};\nexport const deletePost = (postId) => (dispatch) => {\n    axios\n        .delete(`/post/${postId}`)\n        .then(() => {\n            dispatch({ type: DELETE_POST, payload: postId });\n        })\n        .catch((err) => console.log(err));\n};\n\nexport const getUserData = (username) => (dispatch) => {\n    dispatch({ type: LOADING_DATA });\n    axios\n        .get(`/user/${username}`)\n        .then((res) => {\n            dispatch({\n                type: SET_POSTS,\n                payload: res.data.posts\n            });\n        })\n        .catch(() => {\n            dispatch({\n                type: SET_POSTS,\n                payload: null\n            });\n        });\n};\n\nexport const getUser = (username) => (dispatch) => {\n    dispatch({ type: LOADING_DATA });\n    axios\n        .get(`/user/${username}`)\n        .then((res) => {\n            dispatch({\n                payload: res.data\n            });\n        })\n        .catch((err)=>console.log(err));\n};\n\nexport const clearErrors = () => (dispatch) => {\n    dispatch({ type: CLEAR_ERRORS });\n};"]},"metadata":{},"sourceType":"module"}
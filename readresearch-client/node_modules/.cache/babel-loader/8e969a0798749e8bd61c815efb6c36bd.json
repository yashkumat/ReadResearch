{"ast":null,"code":"import _defineProperty from\"/Users/yashkumat/Desktop/ReadResearch/readresearch-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/yashkumat/Desktop/ReadResearch/readresearch-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yashkumat/Desktop/ReadResearch/readresearch-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/yashkumat/Desktop/ReadResearch/readresearch-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/yashkumat/Desktop/ReadResearch/readresearch-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from'react';import withStyles from'@material-ui/core/styles/withStyles';import MyButton from'../util/MyButton';// MUI Stuff\nimport Button from'@material-ui/core/Button';import TextField from'@material-ui/core/TextField';import Dialog from'@material-ui/core/Dialog';import DialogContent from'@material-ui/core/DialogContent';import DialogTitle from'@material-ui/core/DialogTitle';import CircularProgress from'@material-ui/core/CircularProgress';import AddIcon from'@material-ui/icons/Add';import CloseIcon from'@material-ui/icons/Close';import MenuItem from'@material-ui/core/MenuItem';// Redux stuff\nimport{connect}from'react-redux';import{postPost,clearErrors}from'../redux/actions/dataActions';var categories=[{value:'Social Science',label:'Social Science'},{value:'Physics',label:'Physics'},{value:'Mathematics',label:'Mathematics'},{value:'Chemistry',label:'Chemistry'},{value:'Biology',label:'Biology'},{value:'Litrature',label:'Litrature'},{value:'Politics',label:'Politics'}];var styles={submitButton:{position:'relative',float:'right',marginTop:10},progressSpinner:{position:'absolute'},closeButton:{position:'absolute',left:'91%',top:'6%'},textField:{margin:\"10px\"}};var PostPost=/*#__PURE__*/function(_Component){_inherits(PostPost,_Component);var _super=_createSuper(PostPost);function PostPost(){var _this;_classCallCheck(this,PostPost);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={open:false,title:'',description:'',url:'',postCategory:'',errors:{}};_this.handleOpen=function(){_this.setState({open:true});};_this.handleClose=function(){_this.props.clearErrors();_this.setState({open:false,errors:{}});};_this.handleChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.handleSubmit=function(event){event.preventDefault();_this.props.postPost({title:_this.state.title,description:_this.state.description,url:_this.state.url,postCategory:_this.state.postCategory});};return _this;}_createClass(PostPost,[{key:\"UNSAFE_componentWillReceiveProps\",value:function UNSAFE_componentWillReceiveProps(nextProps){if(nextProps.UI.errors){this.setState({errors:nextProps.UI.errors});}if(!nextProps.UI.errors&&!nextProps.UI.loading){this.setState({title:'',description:'',url:'',open:false,errors:{}});}}},{key:\"render\",value:function render(){var errors=this.state.errors;var _this$props=this.props,classes=_this$props.classes,loading=_this$props.UI.loading;return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(MyButton,{onClick:this.handleOpen,tip:\"Write a Post!\"},/*#__PURE__*/React.createElement(AddIcon,{color:\"secondary\"})),/*#__PURE__*/React.createElement(Dialog,{open:this.state.open,onClose:this.handleClose,fullWidth:true,maxWidth:\"sm\"},/*#__PURE__*/React.createElement(MyButton,{tip:\"Close\",onClick:this.handleClose,tipClassName:classes.closeButton},/*#__PURE__*/React.createElement(CloseIcon,{color:\"error\"})),/*#__PURE__*/React.createElement(DialogTitle,null,\"Create a new Post\"),/*#__PURE__*/React.createElement(DialogContent,null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(TextField,{name:\"title\",type:\"text\",label:\"Title\",error:errors.title?true:false,helperText:errors.title,className:classes.textField,onChange:this.handleChange,fullWidth:true}),/*#__PURE__*/React.createElement(TextField,{name:\"description\",type:\"text\",label:\"Description\",multiline:true,rows:2,error:errors.description?true:false,helperText:errors.description,className:classes.textField,onChange:this.handleChange,fullWidth:true}),/*#__PURE__*/React.createElement(TextField,{id:\"postCategory\",name:\"postCategory\",select:true,label:\"Category\",className:classes.textField,fullWidth:true,onChange:this.handleChange},categories.map(function(option){return/*#__PURE__*/React.createElement(MenuItem,{key:option.value,value:option.value},option.label);})),/*#__PURE__*/React.createElement(TextField,{name:\"url\",type:\"text\",label:\"Orignal article Url\",error:errors.url?true:false,helperText:errors.url,className:classes.textField,onChange:this.handleChange,fullWidth:true}),/*#__PURE__*/React.createElement(Button,{type:\"submit\",variant:\"contained\",color:\"secondary\",className:classes.submitButton,disabled:loading},\"Submit\",loading&&/*#__PURE__*/React.createElement(CircularProgress,{size:30,className:classes.progressSpinner}))))));}}]);return PostPost;}(Component);var mapStateToProps=function mapStateToProps(state){return{UI:state.UI};};export default connect(mapStateToProps,{postPost:postPost,clearErrors:clearErrors})(withStyles(styles)(PostPost));","map":{"version":3,"sources":["/Users/yashkumat/Desktop/ReadResearch/readresearch-client/src/components/PostPost.js"],"names":["React","Component","Fragment","withStyles","MyButton","Button","TextField","Dialog","DialogContent","DialogTitle","CircularProgress","AddIcon","CloseIcon","MenuItem","connect","postPost","clearErrors","categories","value","label","styles","submitButton","position","float","marginTop","progressSpinner","closeButton","left","top","textField","margin","PostPost","state","open","title","description","url","postCategory","errors","handleOpen","setState","handleClose","props","handleChange","event","target","name","handleSubmit","preventDefault","nextProps","UI","loading","classes","map","option","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport MyButton from '../util/MyButton';\n// MUI Stuff\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport AddIcon from '@material-ui/icons/Add';\nimport CloseIcon from '@material-ui/icons/Close';\nimport MenuItem from '@material-ui/core/MenuItem';\n\n// Redux stuff\nimport { connect } from 'react-redux';\nimport { postPost, clearErrors } from '../redux/actions/dataActions';\n\nconst categories = [\n    {\n        value: 'Social Science',\n        label: 'Social Science',\n    },\n    {\n        value: 'Physics',\n        label: 'Physics',\n    },\n    {\n        value: 'Mathematics',\n        label: 'Mathematics',\n    },\n    {\n        value: 'Chemistry',\n        label: 'Chemistry',\n    },\n    {\n        value: 'Biology',\n        label: 'Biology',\n    },\n    {\n        value: 'Litrature',\n        label: 'Litrature',\n    },\n    {\n        value: 'Politics',\n        label: 'Politics',\n    },\n];\n\nconst styles = {\n    submitButton: {\n        position: 'relative',\n        float: 'right',\n        marginTop: 10\n    },\n    progressSpinner: {\n        position: 'absolute'\n    },\n    closeButton: {\n        position: 'absolute',\n        left: '91%',\n        top: '6%'\n    },\n    textField:{\n        margin:\"10px\",\n      \n    }\n};\n\nclass PostPost extends Component {\n    state = {\n        open: false,\n        title: '',\n        description:'',\n        url:'',\n        postCategory:'',\n        errors: {}\n    };\n    \n    UNSAFE_componentWillReceiveProps(nextProps) {\n        if (nextProps.UI.errors) {\n            this.setState({\n                errors: nextProps.UI.errors\n            });\n        }\n        if (!nextProps.UI.errors && !nextProps.UI.loading) {\n            this.setState({\n                title: '', description: '',\n                url: '', open: false, errors: {} });\n        }\n    }\n    handleOpen = () => {\n        this.setState({ open: true });\n    };\n    handleClose = () => {\n        this.props.clearErrors();\n        this.setState({ open: false, errors: {} });\n    };\n    handleChange = (event) => {\n        this.setState({ [event.target.name]: event.target.value });\n    };\n    handleSubmit = (event) => {\n        event.preventDefault();\n        this.props.postPost({ title: this.state.title, description: this.state.description, url: this.state.url, postCategory: this.state.postCategory });\n    };\n    \n    \n    render() {\n        const { errors } = this.state;\n        const {\n            classes,\n            UI: { loading }\n        } = this.props;\n\n        \n        return (\n            <Fragment>\n                <MyButton onClick={this.handleOpen} tip=\"Write a Post!\">\n                    <AddIcon color=\"secondary\"/>\n                </MyButton>\n                <Dialog\n                    open={this.state.open}\n                    onClose={this.handleClose}\n                    fullWidth\n                    maxWidth=\"sm\"\n                >\n                    <MyButton\n                        tip=\"Close\"\n                        onClick={this.handleClose}\n                        tipClassName={classes.closeButton}\n                    >\n                        <CloseIcon color=\"error\"/>\n                    </MyButton>\n                    <DialogTitle>Create a new Post</DialogTitle>\n                    <DialogContent>\n                        <form onSubmit={this.handleSubmit}>\n                            <TextField\n                                name=\"title\"\n                                type=\"text\"\n                                label=\"Title\"\n                                error={errors.title ? true : false}\n                                helperText={errors.title}\n                                className={classes.textField}\n                                onChange={this.handleChange}\n                                fullWidth\n                            />\n                            <TextField\n                                name=\"description\"\n                                type=\"text\"\n                                label=\"Description\"\n                                multiline\n                                rows={2}\n                                error={errors.description ? true : false}\n                                helperText={errors.description}\n                                className={classes.textField}\n                                onChange={this.handleChange}\n                                fullWidth\n                            />\n                            <TextField\n                                id=\"postCategory\"\n                                name=\"postCategory\"\n                                select\n                                label=\"Category\"\n                                className={classes.textField}\n                                fullWidth\n                                onChange={this.handleChange}\n                            >\n                                {categories.map((option) => (\n                                    <MenuItem key={option.value} value={option.value}>\n                                        {option.label}\n                                    </MenuItem>\n                                ))}\n                            </TextField>\n                            <TextField\n                                name=\"url\"\n                                type=\"text\"\n                                label=\"Orignal article Url\"\n                                error={errors.url ? true : false}\n                                helperText={errors.url}\n                                className={classes.textField}\n                                onChange={this.handleChange}\n                                fullWidth\n                            />\n                            <Button\n                                type=\"submit\"\n                                variant=\"contained\"\n                                color=\"secondary\"\n                                className={classes.submitButton}\n                                disabled={loading}\n                            >\n                                Submit\n                {loading && (\n                                    <CircularProgress\n                                        size={30}\n                                        className={classes.progressSpinner}\n                                    />\n                                )}\n                            </Button>\n                        </form>\n                    </DialogContent>\n                </Dialog>\n            </Fragment>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    UI: state.UI\n});\n\nexport default connect(\n    mapStateToProps,\n    { postPost, clearErrors }\n)(withStyles(styles)(PostPost));"]},"metadata":{},"sourceType":"module"}